controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (Personaje.isHittingTile(CollisionDirection.Bottom)) {
        Personaje.vy = -150
    }
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.greenSwitchUp, function (sprite, location) {
    Personaje.sayText("Pulsa el bot√≥n B para pasar a la siguiente fase")
    if (controller.B.isPressed()) {
    	
    }
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    Personaje.setImage(img`
        ......................22222...
        ....................2222222...
        .....................dfdddd...
        .....................dddddd...
        .....................333ddd...
        .....................dddddd...
        .......................dd.....
        ......................2222....
        ......................2222....
        ......................2222....
        ......................2222....
        ......................2d22....
        ......................2222....
        ......................8888....
        ......................8888....
        .......................88.....
        .......................88.....
        .......................88.....
        ......................fff.....
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        `)
    Personaje.startEffect(effects.spray, 500)
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    Personaje.setImage(img`
        ...22222......................
        ...2222222....................
        ...ddddfd.....................
        ...dddddd.....................
        ...ddd333.....................
        ...dddddd.....................
        .....dd.......................
        ....2222......................
        ....2222......................
        ....2222......................
        ....2222......................
        ....22d2......................
        ....2222......................
        ....8888......................
        ....8888......................
        .....88.......................
        .....88.......................
        .....88.......................
        .....fff......................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        `)
    Personaje.startEffect(effects.spray, 500)
})
let Personaje: Sprite = null
Personaje = sprites.create(img`
    ...22222......................
    ...2222222....................
    ...dfddfd.....................
    ...dddddd.....................
    ...dd33dd.....................
    ...dddddd.....................
    .....dd.......................
    ...222222.....................
    ...222222.....................
    ...222222.....................
    ...222222.....................
    ...d2222d.....................
    ....2222......................
    ....8888......................
    ....8888......................
    ....8..8......................
    ....8..8......................
    ....8..8......................
    ....ff.ff.....................
    ..............................
    ..............................
    ..............................
    ..............................
    ..............................
    ..............................
    ..............................
    ..............................
    ..............................
    ..............................
    ..............................
    `, SpriteKind.Player)
controller.moveSprite(Personaje, 100, 0)
tiles.setCurrentTilemap(tilemap`level1`)
tiles.placeOnTile(Personaje, tiles.getTileLocation(randint(4, 8), 12))
scene.cameraFollowSprite(Personaje)
Personaje.ay = 150
info.setLife(3)
game.onUpdate(function () {
    if (Personaje.tileKindAt(TileDirection.Bottom, sprites.dungeon.hazardLava0)) {
        tiles.placeOnTile(Personaje, tiles.getTileLocation(randint(4, 8), 12))
    }
    info.setLife(info.life() - 1)
})
